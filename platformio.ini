; ====================================================================
; BME280 Environmental Sensor (Default)
; ====================================================================
[env:esp32-lora-sensor]
platform = espressif32 @ ^6.0.0
board = esp32-s3-devkitc-1
framework = arduino
monitor_speed = 115200

build_flags =
    -D CPU_FREQ_MHZ=80        ; Power optimization
    -D BATTERY_POWERED
    -D OLED_ENABLED=1
    -D SENSOR_TYPE_BME280     ; BME280 environmental sensor
    -D FIRMWARE_VERSION_MAJOR=2
    -D FIRMWARE_VERSION_MINOR=0
    -D FIRMWARE_VERSION_PATCH=0

lib_deps =
    jgromes/RadioLib @ 6.6.0
    adafruit/Adafruit BME280 Library @ 2.2.4
    adafruit/Adafruit Unified Sensor @ 1.1.14
    olikraus/U8g2 @ 2.35.9
    bblanchon/ArduinoJson @ 7.0.4

upload_speed = 921600
monitor_filters = esp32_exception_decoder

; Filesystem for SPIFFS configuration
board_build.filesystem = littlefs

; ====================================================================
; DS18B20 Temperature Sensor
; ====================================================================
[env:esp32-lora-sensor-ds18b20]
platform = espressif32 @ ^6.0.0
board = esp32-s3-devkitc-1
framework = arduino
monitor_speed = 115200

build_flags =
    -D CPU_FREQ_MHZ=80        ; Power optimization
    -D BATTERY_POWERED
    -D OLED_ENABLED=1
    -D SENSOR_TYPE_DS18B20    ; DS18B20 temperature sensor
    -D FIRMWARE_VERSION_MAJOR=2
    -D FIRMWARE_VERSION_MINOR=0
    -D FIRMWARE_VERSION_PATCH=0

lib_deps =
    jgromes/RadioLib @ 6.6.0
    paulstoffregen/OneWire @ ^2.3.8
    milesburton/DallasTemperature @ ^3.11.0
    olikraus/U8g2 @ 2.35.9
    bblanchon/ArduinoJson @ 7.0.4

upload_speed = 921600
monitor_filters = esp32_exception_decoder

; Filesystem for SPIFFS configuration
board_build.filesystem = littlefs

; ====================================================================
; DHT22 Temperature and Humidity Sensor
; ====================================================================
[env:esp32-lora-sensor-dht22]
platform = espressif32 @ ^6.0.0
board = esp32-s3-devkitc-1
framework = arduino
monitor_speed = 115200

build_flags =
    -D CPU_FREQ_MHZ=80        ; Power optimization
    -D BATTERY_POWERED
    -D OLED_ENABLED=1
    -D SENSOR_TYPE_DHT22      ; DHT22/AM2302 temperature and humidity sensor
    -D FIRMWARE_VERSION_MAJOR=2
    -D FIRMWARE_VERSION_MINOR=0
    -D FIRMWARE_VERSION_PATCH=0

lib_deps =
    jgromes/RadioLib @ 6.6.0
    adafruit/DHT sensor library @ ^1.4.6
    adafruit/Adafruit Unified Sensor @ 1.1.14
    olikraus/U8g2 @ 2.35.9
    bblanchon/ArduinoJson @ 7.0.4
    mikalhart/TinyGPSPlus @ 1.0.3

upload_speed = 921600
monitor_filters = esp32_exception_decoder

; Filesystem for SPIFFS configuration
board_build.filesystem = littlefs

; ====================================================================
; GPS Support - Optional NEO-6M Module (add GPS_ENABLED build flag)
; ====================================================================
; To enable GPS on any sensor build, add to build_flags:
;   -D GPS_ENABLED
; 
; NEO-6M wiring:
;   GND -> GND
;   VCC -> 3.3V (or Vext)
;   RX -> GPIO3
;   TX -> GPIO1 (shared with Serial debug, conflicts with DHT22 TX)
; ====================================================================
; BME280 Environmental Sensor (USB1 Device)
; ====================================================================
[env:esp32-lora-sensor-bme280-usb1]
platform = espressif32 @ ^6.0.0
board = esp32-s3-devkitc-1
framework = arduino
monitor_speed = 115200
upload_port = /dev/ttyUSB1
monitor_port = /dev/ttyUSB1

build_flags =
    -D CPU_FREQ_MHZ=80        ; Power optimization
    -D BATTERY_POWERED
    -D OLED_ENABLED=1
    -D SENSOR_TYPE_BME280     ; BME280 environmental sensor
    -D FIRMWARE_VERSION_MAJOR=2
    -D FIRMWARE_VERSION_MINOR=0
    -D FIRMWARE_VERSION_PATCH=0

lib_deps =
    jgromes/RadioLib @ 6.6.0
    adafruit/Adafruit BME280 Library @ 2.2.4
    adafruit/Adafruit Unified Sensor @ 1.1.14
    olikraus/U8g2 @ 2.35.9
    bblanchon/ArduinoJson @ 7.0.4

upload_speed = 921600
monitor_filters = esp32_exception_decoder

; Filesystem for SPIFFS configuration
board_build.filesystem = littlefs

; ====================================================================
; BME280 + GPS (USB1 Device)
; ====================================================================
[env:esp32-lora-sensor-bme280-gps-usb1]
platform = espressif32 @ ^6.0.0
board = esp32-s3-devkitc-1
framework = arduino
monitor_speed = 115200
upload_port = /dev/ttyUSB1
monitor_port = /dev/ttyUSB1

build_flags =
    -D CPU_FREQ_MHZ=80        ; Power optimization
    -D BATTERY_POWERED
    -D OLED_ENABLED=1
    -D SENSOR_TYPE_BME280     ; BME280 environmental sensor
    -D GPS_ENABLED            ; Enable NEO-6M GPS module
    -D FIRMWARE_VERSION_MAJOR=2
    -D FIRMWARE_VERSION_MINOR=0
    -D FIRMWARE_VERSION_PATCH=0

lib_deps =
    jgromes/RadioLib @ 6.6.0
    adafruit/Adafruit BME280 Library @ 2.2.4
    adafruit/Adafruit Unified Sensor @ 1.1.14
    olikraus/U8g2 @ 2.35.9
    bblanchon/ArduinoJson @ 7.0.4
    mikalhart/TinyGPSPlus @ 1.0.3

upload_speed = 921600
monitor_filters = esp32_exception_decoder

; Filesystem for SPIFFS configuration
board_build.filesystem = littlefs

; [env:test-bme280]
; platform = espressif32 @ ^6.0.0
; board = esp32-s3-devkitc-1
; framework = arduino
; monitor_speed = 115200
; 
; build_flags =
;     -D CPU_FREQ_MHZ=80
; 
; lib_deps =
;     adafruit/Adafruit BME280 Library @ 2.2.4
;     adafruit/Adafruit Unified Sensor @ 1.1.14
; 
; upload_speed = 921600
; monitor_filters = esp32_exception_decoder
; 
; ; Use test file instead of main.cpp
; build_src_filter = +<*> -<main.cpp> +<../test_bme280.cpp>

; [env:test-sensor-manager]
; platform = espressif32 @ ^6.0.0
; board = esp32-s3-devkitc-1
; framework = arduino
; monitor_speed = 115200
; 
; build_flags =
;     -D CPU_FREQ_MHZ=80
; 
; lib_deps =
;     adafruit/Adafruit BME280 Library @ 2.2.4
;     adafruit/Adafruit Unified Sensor @ 1.1.14
; 
; upload_speed = 921600
; monitor_filters = esp32_exception_decoder
; 
; ; Filesystem for baseline storage
; board_build.filesystem = littlefs
; 
; ; Use test file and include sensor_manager
; build_src_filter = +<*> -<main.cpp> +<../test_sensor_manager.cpp>

; [env:test-config-manager]
; platform = espressif32 @ ^6.0.0
; board = esp32-s3-devkitc-1
; framework = arduino
; monitor_speed = 115200
; 
; build_flags =
;     -D CPU_FREQ_MHZ=80
; 
; lib_deps =
;     adafruit/Adafruit BME280 Library @ 2.2.4
;     adafruit/Adafruit Unified Sensor @ 1.1.14
; 
; upload_speed = 921600
; monitor_filters = esp32_exception_decoder
; 
; ; Filesystem for configuration files
; board_build.filesystem = littlefs
; 
; ; Use test file and include config_manager
; build_src_filter = +<*> -<main.cpp> -<sensor_manager.cpp> +<../test_config_manager.cpp>

; [env:test-lora-comm]
; platform = espressif32 @ ^6.0.0
; board = esp32-s3-devkitc-1
; framework = arduino
; monitor_speed = 115200
; 
; build_flags =
;     -D CPU_FREQ_MHZ=80
; 
; lib_deps =
;     jgromes/RadioLib @ 6.6.0
;     adafruit/Adafruit BME280 Library @ 2.2.4
;     adafruit/Adafruit Unified Sensor @ 1.1.14
; 
; upload_speed = 921600
; monitor_filters = esp32_exception_decoder
; 
; ; Filesystem for baseline storage
; board_build.filesystem = littlefs
; 
; ; Use test file and include lora_comm + sensor_manager
; build_src_filter = +<*> -<main.cpp> -<config_manager.cpp> +<../test_lora_comm.cpp>
